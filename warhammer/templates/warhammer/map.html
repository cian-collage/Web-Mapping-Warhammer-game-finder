{% load static %}
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Warhammer Game Finder</title>
    <link
      rel="stylesheet"
      href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css"
    />
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"
      rel="stylesheet"
    />

    <link rel="stylesheet" href="{% static 'css/map.css' %}?v=3" />
  </head>

  <body>
    <!-- Top Filter Bar -->
    <div class="top-bar p-2 bg-dark text-light">
      <div class="container-fluid d-flex gap-2 align-items-center">
        <input
          id="search-box"
          class="form-control"
          placeholder="Search for a session..."
          style="max-width: 220px"
        />
        <select id="filter-system" class="form-select" style="max-width: 180px">
          <option value="">All Systems</option>
          <option value="Warhammer 40,000">Warhammer 40,000</option>
          <option value="Age of Sigmar">Age of Sigmar</option>
          <option value="Kill Team">Kill Team</option>
        </select>
        <select
          id="filter-province"
          class="form-select"
          style="max-width: 150px"
        >
          <option value="">All Provinces</option>
        </select>
        <div class="form-check text-nowrap">
          <input class="form-check-input" type="checkbox" id="filter-open" />
          <label class="form-check-label" for="filter-open">Open Only</label>
        </div>
        <button id="search-btn" class="btn btn-primary">Search</button>
        <button id="refresh-btn" class="btn btn-outline-light">Reset</button>
      </div>
    </div>

    <!-- Main Content -->
    <div class="content d-flex position-relative">
      <!-- Floating Map Buttons -->
      <div class="floating-btn-group">
        <button
          id="search-area-btn"
          class="btn btn-primary btn-sm"
          type="button"
        >
          Search this area
        </button>
        <button id="btn-near-me" class="btn btn-primary btn-sm" type="button">
          Near Me
        </button>
      </div>

      <!-- Map -->
      <div id="map"></div>

      <!-- Sidebar -->
      <div id="results-panel" class="border-start">
        <div class="results-header d-flex align-items-center">
          <h6 class="m-0" id="results-title">Sessions</h6>
        </div>
        <div id="results-list"></div>
      </div>
    </div>

    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>

    <script src="{% static 'js/map.js' %}?v=2012"></script>
  </body>
</html>
